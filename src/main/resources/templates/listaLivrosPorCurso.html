<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>LISTAR LIVROS POR CURSO</title>
    <link th:href="@{/style/main.css}" rel="stylesheet" />
</head>
<body>
    <a href="/">Retornar para a p√°gina inicial</a>
    <form>
        <label for="idCurso">SELECIONE O CURSO</label>
        <select id="idCurso" name="idCurso">
            <option value="">Selecione...</option>
            <option th:each="curso : ${cursos}"
                    th:value="${curso.id}"
                    th:text="${curso.nome}"
                    th:selected="${curso.id == cursoId}">
            </option>
        </select>
    </form>

    <h2>LIVROS ENCONTRADOS</h2>
    <ul>
        <li th:each="livro : ${livros}">
            <a th:href="@{'/livro/download/' + ${livro.id}}"
               th:text="${livro.nome}">
            </a>
        </li>
    </ul>

    <script>
        document.getElementById("idCurso").addEventListener("change", function () {
            const selectedId = this.value
            if (selectedId) {
                window.location.href = "/livro/curso/" + selectedId;
            }
        })
    </script>
</body>

</html>
