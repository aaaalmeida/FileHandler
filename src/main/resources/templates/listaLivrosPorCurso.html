<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>LISTAR LIVROS POR CURSO</title>
</head>
<body>
    <form>
        <label for="idCurso">SELECIONE O CURSO</label>
        <select id="idCurso" name="idCurso">
            <option th:each="curso : ${cursos}"
                    th:text="${curso.nome}"
                    th:value="${curso.id}"
                    th:selected="${curso.id == cursoId}"
            >
            </option>
        </select>
    </form>

    <h2>LIVROS ENCONTRADOS</h2>
    <ul>
        <li th:each="livro : ${livros}">
            <a th:href="@{'/livro/download/' + ${livro.id}}"
               th:text="${livro.nome}"></a>
        </li>
    </ul>
</body>

<script>
    document.getElementById("idCurso").addEventListener("change", function () {
        const selectedId = this.value
        if (selectedId) {
            window.location.href = "/curso/" + selectedId;
        }
    })
</script>
</html>